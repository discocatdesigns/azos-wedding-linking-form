<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antranik & Oksana's Wedding</title>
    <link rel="icon" href="https://imgur.com/hqdFEnx.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <style>
        /* Your existing CSS styles remain the same */
        /* I've kept all your styles but removed them for brevity in this response */
        /* The styles are exactly the same as in your original code */
    </style>
</head>
<body>
    <!-- Intro Animation -->
    <div id="intro">
        <div class="flower-container">
            <!-- Flowers will be added dynamically with JavaScript -->
        </div>
        <div class="invitation-text">
            <h2>You are invited to the wedding of</h2>
            <h1>Antranik & Oksana</h1>
            <h2>XX August, 2026</h2>
            <p>We aim to do it mid-end of August, we hope to have the exact date soon.</p>
        </div>
    </div>

    <!-- Main Page -->
    <div id="main-page">
        <!-- Header -->
        <header id="main-header">
            <div class="logo-container" onclick="triggerFlowerAnimation()">
                <img src="https://imgur.com/hqdFEnx.png" alt="Lavender" class="logo-icon">
                <div class="logo">A & O</div>
            </div>
            <ul class="nav-links">
                <li><a href="#hero">Home</a></li>
                <li><a href="#our-story">Our Story</a></li>
                <li><a href="#details">Details</a></li>
                <li><a href="#rsvp">RSVP</a></li>
                <li><a href="#song-request">Song Request</a></li>
                <li><a href="#menu">Menu</a></li>
            </ul>
        </header>

        <!-- Hero Section -->
        <section id="hero" class="hero">
            <div class="carousel" id="image-carousel">
                <!-- Carousel images will be added dynamically -->
                <button class="carousel-arrow left" onclick="prevImage()">❮</button>
                <button class="carousel-arrow right" onclick="nextImage()">❯</button>
            </div>
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1>Antranik & Oksana</h1>
                <p>XX August, 2026</p>
                <p class="countdown" id="countdown">XXX days to go</p>
            </div>
        </section>

        <!-- Our Story Section -->
        <section id="our-story">
            <div class="container">
                <h2 class="section-title">Our Story</h2>
                <div class="story-content">
                    <p>On the 10th of April, 2021, Antranik & I met at Gloria Jeans in Germasoyeia. Neither of us could have expected that this day, during which we had coffee and danced at a wild beach together, would be the first of the rest of their lives together.</p>
                    <p>On the 13th of August, 2025 I said YES, and now we're planning our whimsical countryside wedding in Poland.</p>
                    <p>We are super excited to share this special day with you, thank you for being part of our small but super awesome circle of family and friends ❤️</p>
                </div>
            </div>
        </section>

        <!-- Wedding Details Section -->
        <section id="details">
            <div class="container">
                <h2 class="section-title">Wedding Details</h2>
                <div class="coming-soon">
                    <h3>Coming Soon</h3>
                    <p>We're trying to plan the best day ever. We're working on it and will share the whole schedule and info here as soon as we can!</p>
                </div>
            </div>
        </section>

        <!-- RSVP Section -->
        <section id="rsvp">
            <div class="container">
                <h2 class="section-title">RSVP</h2>
                
                <!-- RSVP Form Container - This is where the form will appear -->
                <div id="rsvp-form-container" style="display: none;">
                    <div id="rsvp-form">
                        <button class="close-form" onclick="closeRSVPForm()">✕</button>

                        <form id="wedding-rsvp" action="https://script.google.com/macros/s/AKfycbxEbI4C5WkjVc7kWQwWPV9nBBJVe60xUWTldJXg-X-Y2tbb-AFR6US5hKG0lbvQPjFS7g/exec" method="post">
                            <!-- Step 1 -->
                            <div class="form-step active" id="step1">
                                <div class="step-indicator">Step 1 of 7</div>
                                <div class="form-group">
                                    <label for="name">Your Full Name</label>
                                    <input type="text" id="name" name="FullName" required>
                                </div>
                                <div class="form-nav">
                                    <div></div>
                                    <button type="button" class="btn btn-primary" onclick="nextStep(1)">Next</button>
                                </div>
                            </div>

                            <!-- Step 2 -->
                            <div class="form-step" id="step2">
                                <div class="step-indicator">Step 2 of 7</div>
                                <div class="form-group">
                                    <label for="country">Which country will you be coming from?</label>
                                    <input type="text" id="country" name="Country" required>
                                </div>
                                <div class="form-nav">
                                    <button type="button" class="btn btn-secondary" onclick="prevStep(2)">Back</button>
                                    <button type="button" class="btn btn-primary" onclick="nextStep(2)">Next</button>
                                </div>
                            </div>

                            <!-- Step 3 -->
                            <div class="form-step" id="step3">
                                <div class="step-indicator">Step 3 of 7</div>
                                <div class="form-group">
                                    <label for="dietary">Do you have any dietary restrictions?</label>
                                    <textarea id="dietary" name="Diet" placeholder="Please list any dietary restrictions or allergies"></textarea>
                                    <p class="disclaimer">We are planning a menu to accommodate all of our guests needs. It will help us greatly to know if you may need vegan or gluten free options. Thank you ❤️</p>
                                </div>
                                <div class="form-nav">
                                    <button type="button" class="btn btn-secondary" onclick="prevStep(3)">Back</button>
                                    <button type="button" class="btn btn-primary" onclick="nextStep(3)">Next</button>
                                </div>
                            </div>

                            <!-- Step 4 -->
                            <div class="form-step" id="step4">
                                <div class="step-indicator">Step 4 of 7</div>
                                <div class="form-group">
                                    <label>Are you available next August?</label>
                                    <div class="radio-options">
                                        <div class="radio-option">
                                            <input type="radio" id="available-yes" name="Available" value="yes" required>
                                            <label for="available-yes">Yes</label>
                                        </div>
                                        <div class="radio-option">
                                            <input type="radio" id="available-no" name="Available" value="no">
                                            <label for="available-no">No</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-nav">
                                    <button type="button" class="btn btn-secondary" onclick="prevStep(4)">Back</button>
                                    <button type="button" class="btn btn-primary" onclick="nextStep(4)">Next</button>
                                </div>
                            </div>

                            <!-- Step 5 -->
                            <div class="form-step" id="step5">
                                <div class="step-indicator">Step 5 of 7</div>
                                <div class="form-group">
                                    <label for="email">Email address</label>
                                    <input type="email" id="email" name="Email" required>
                                    <p class="disclaimer">This is so that we can notify you as soon as we set the date and the official RSVP will be open ❤️</p>
                                </div>
                                <div class="form-nav">
                                    <button type="button" class="btn btn-secondary" onclick="prevStep(5)">Back</button>
                                    <button type="button" class="btn btn-primary" onclick="nextStep(5)">Next</button>
                                </div>
                            </div>

                            <!-- Step 6 -->
                            <div class="form-step" id="step6">
                                <div class="step-indicator">Step 6 of 7</div>
                                <div class="form-group">
                                    <label for="message">Anything else you'd like to share? (optional)</label>
                                    <textarea id="message" name="Message"></textarea>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" id="destination" name="destination" required>
                                    <label for="destination">Please acknowledge that you are aware that due to the planned rural nature of this event the hosts will stay in communication with me to ensure that I will be safe and comfortable during the event, this includes getting there and potential overnight stays. Us, the hosts, strive for our guests' ultimate happiness and satisfaction ⭐⭐⭐⭐⭐</label>
                                </div>
                                <div class="form-nav">
                                    <button type="button" class="btn btn-secondary" onclick="prevStep(6)">Back</button>
                                    <button type="button" class="btn btn-primary" onclick="nextStep(6)">Next</button>
                                </div>
                            </div>

                            <!-- Step 7 -->
                            <div class="form-step" id="step7">
                                <div class="step-indicator">Step 7 of 7</div>
                                <div class="form-group">
                                    <p>Thank you for completing our RSVP form! Click the button below to send us your information.</p>
                                </div>
                                <div class="form-nav">
                                    <button type="button" class="btn btn-secondary" onclick="prevStep(7)">Back</button>
                                    <button type="submit" class="btn btn-primary">Submit Pre-RSVP</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Default RSVP Content (shown when form is not visible) -->
                <div id="rsvp-default-content" class="coming-soon">
                    <h3>Coming Soon</h3>
                    <p>Currently we are checking in to see how many of our loved ones can make it with this pre-RSVP. As soon as we will have some rough estimates we will open the official RSVP which will include the final menu options and any other details necessary.</p>
                    <p>We hope to open it very soon. Please check back later!</p>
                    <p>For now, you can edit your response, and RSVP's will be editable until we will have to make the final decisions.</p>
                    <button class="btn btn-primary" onclick="showRSVPForm()" id="edit-rsvp-btn" style="margin-top: 20px;">Fill Out Pre-RSVP</button>
                    <button class="btn btn-secondary" onclick="startRSVPOver()" id="start-over-btn" style="margin-top: 10px;">Start RSVP Over</button>
                </div>
            </div>
        </section>

        <!-- Song Request Section -->
        <section id="song-request">
            <div class="container">
                <h2 class="section-title">Song Requests</h2>
                <div class="song-request-intro">
                    <p>Help us create a banging soundtrack for the day. What makes you move, groove, and sing like a Brit in a pub. You can also share a song that makes you think of love 🌹</p>
                </div>
                
                <form class="song-form" onsubmit="submitSongRequest(); return false;">
                    <div class="form-group">
                        <label for="requester-name">Your Name</label>
                        <input type="text" id="requester-name" name="requester-name" placeholder="(so we know who submitted it)">
                    </div>
                    <div class="form-group">
                        <label for="song-name">Song Name</label>
                        <input type="text" id="song-name" name="song-name" placeholder="(what's your banger called?)">
                    </div>
                    <div class="form-group">
                        <label for="artist">Artist</label>
                        <input type="text" id="artist" name="artist" placeholder="(who sang this banger?)">
                    </div>
                    <div class="form-group">
                        <label for="why">Why this song?</label>
                        <input type="text" id="why" name="why" placeholder="(so we know which part of the day to play it)">
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Song Request</button>
                    <p class="song-disclaimer">You can submit as many songs as you like!</p>
                    <div id="song-success" class="email-success">
                        <p>Thank you for your song suggestion! We'll add it to our playlist.</p>
                    </div>
                </form>
            </div>
        </section>

        <!-- Menu Section -->
        <section id="menu">
            <div class="container">
                <h2 class="section-title">Menu</h2>
                <div class="coming-soon">
                    <h3>Coming Soon</h3>
                    <p>Our menu is being carefully crafted and will be shared with you as soon as we can!</p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="container">
                <h3>Antranik <span class="heart">♥</span> Oksana</h3>
                <p>Reach out to us at: +48 506 537 878</p>
            </div>
        </footer>
    </div>

    <script>
        // Your existing JavaScript code remains mostly the same
        // I've made a few adjustments to handle the form integration
        
        // Flower images array
        const flowerImages = [
            'https://i.imgur.com/8gt9dmV.png',
            'https://i.imgur.com/NoSp2T0.png',
            'https://i.imgur.com/JUedrKP.png',
            'https://i.imgur.com/UbjHrAH.png',
            'https://i.imgur.com/YbeJmGd.png',
            'https://i.imgur.com/ip1VsCn.png',
            'https://i.imgur.com/BoJQaHx.png',
            'https://i.imgur.com/XecVxrM.png',
            'https://i.imgur.com/r74COjI.png',
            'https://i.imgur.com/75ZMWun.png'
        ];

        // Musical note images array
        const musicalNoteImages = [
            'https://i.imgur.com/IKkYfEi.png',
            'https://i.imgur.com/MItvSfA.png',
            'https://i.imgur.com/Dxq669l.png',
            'https://i.imgur.com/gBX0toi.png',
            'https://i.imgur.com/FVRIAeS.png',
            'https://i.imgur.com/QDQmcpS.png',
            'https://i.imgur.com/9oWC47Y.png',
            'https://i.imgur.com/JCY2jkI.png',
            'https://i.imgur.com/Ulf7P8I.png',
            'https://i.imgur.com/1CKPyZI.png',
            'https://i.imgur.com/HblICf7.png',
            'https://i.imgur.com/8BQjiut.png'
        ];
        
        // Carousel images array
        const carouselImages = [
            'https://imgur.com/Qc46S61.jpg',
            'https://imgur.com/VAjeQD0.jpg',
            'https://imgur.com/r0pataw.jpg',
            'https://imgur.com/10FBkDA.jpg',
            'https://imgur.com/n65et0t.jpg',
            'https://imgur.com/guBrRTn.jpg',
            'https://imgur.com/FgJ7Eg8.jpg',
            'https://imgur.com/nuiMjZS.jpg',
            'https://imgur.com/ZfPDuDc.jpg',
            'https://imgur.com/AwUiN3a.jpg',
            'https://imgur.com/mkhi1D7.jpg',
            'https://imgur.com/WO6Lngy.jpg',
            'https://imgur.com/czlsOhH.jpg',
            'https://imgur.com/s3UT7VH.jpg',
            'https://imgur.com/rUy3nXG.jpg',
            'https://imgur.com/Qc2E86P.jpg',
            'https://imgur.com/GjtMyVI.jpg',
            'https://imgur.com/YajJDes.jpg',
            'https://imgur.com/mZRuQVF.jpg',
            'https://imgur.com/GsIe4I1.jpg',
            'https://imgur.com/7k7bHoV.jpg',
            'https://imgur.com/u6eIDB0.jpg',
            'https://imgur.com/nCCstFF.jpg',
            'https://imgur.com/1z1FEpO.jpg',
            'https://imgur.com/SPxXn5L.jpg',
            'https://imgur.com/zhseDpQ.jpg',
            'https://imgur.com/UGM9hQR.jpg',
            'https://imgur.com/DcloDRa.jpg'
        ];
        
        // Form steps management
        let currentStep = 1;
        const totalSteps = 7;
        let formData = {};
        let allowEditing = true; // Set to false when you want to disable editing
        let carouselInterval;
        let currentCarouselIndex = 0;
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user has already completed the form
            if (localStorage.getItem('rsvpCompleted') === 'true') {
                // Skip the intro and show main page
                document.getElementById('intro').style.display = 'none';
                document.getElementById('main-page').style.display = 'block';
                document.getElementById('main-page').style.opacity = '1';
                
                // Load saved form data if exists
                const savedData = localStorage.getItem('rsvpData');
                if (savedData) {
                    formData = JSON.parse(savedData);
                }
            } else {
                createFlowers();
                setTimeout(showInvitation, 1500);
            }
            
            // Header scroll effect
            window.addEventListener('scroll', function() {
                const header = document.getElementById('main-header');
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
            
            // Calculate countdown
            updateCountdown();
            
            // Initialize carousel
            initCarousel();
            
            // Handle form submission
            document.getElementById('wedding-rsvp').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Save form data before submitting
                saveFormData();
                localStorage.setItem('rsvpCompleted', 'true');
                
                // Submit the form to Google Apps Script
                fetch(this.action, {
                    method: this.method,
                    body: new FormData(this)
                })
                .then(response => response.text())
                .then(data => {
                    console.log('Success:', data);
                    // Show success message
                    document.getElementById('rsvp-form').innerHTML = `
                        <div style="text-align: center; padding: 40px 20px;">
                            <h2 style="color: var(--mid-lavender); margin-bottom: 20px;">Thank you!</h2>
                            <p>Your response has been recorded. We will be sharing details about the exact date and location as soon as we can.</p>
                            <button class="btn btn-primary" onclick="closeRSVPForm()">Close</button>
                        </div>
                    `;
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('There was an error submitting your form. Please try again.');
                });
            });
        });
        
        // Show RSVP form in the RSVP section
        function showRSVPForm() {
            document.getElementById('rsvp-default-content').style.display = 'none';
            document.getElementById('rsvp-form-container').style.display = 'block';
            // Scroll to the form
            document.getElementById('rsvp').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Close RSVP form
        function closeRSVPForm() {
            document.getElementById('rsvp-form-container').style.display = 'none';
            document.getElementById('rsvp-default-content').style.display = 'block';
        }
                    document.getElementById('main-page').style.opacity = '1';
                }, 50);
            }, 500);
        }
        
        // Form navigation functions
        function nextStep(step) {
            // Basic validation
            if (step === 1 && !document.getElementById('name').value) {
                alert('Please enter your name');
                return;
            }
            if (step === 2 && !document.getElementById('country').value) {
                alert('Please enter your country');
                return;
            }
            if (step === 4 && !document.querySelector('input[name="availability"]:checked')) {
                alert('Please let us know if you are available');
                return;
            }
            if (step === 5) {
                const email = document.getElementById('email').value;
                if (!email || !validateEmail(email)) {
                    alert('Please enter a valid email address');
                    return;
                }
            }
            if (step === 6 && !document.getElementById('destination').checked) {
                alert('Please acknowledge this message');
                return;
            }
            
            // Save form data at each step
            saveFormData();
            
            document.getElementById(`step${step}`).classList.remove('active');
            currentStep = step + 1;
            document.getElementById(`step${currentStep}`).classList.add('active');
            updateStepIndicator();
        }
        
        function prevStep(step) {
            document.getElementById(`step${step}`).classList.remove('active');
            currentStep = step - 1;
            document.getElementById(`step${currentStep}`).classList.add('active');
            updateStepIndicator();
        }
        
        function updateStepIndicator() {
            const indicators = document.querySelectorAll('.step-indicator');
            indicators.forEach(indicator => {
                indicator.textContent = `Step ${currentStep} of ${totalSteps}`;
            });
        }
        
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // Save form data to localStorage
        function saveFormData() {
            formData.name = document.getElementById('name').value;
            formData.country = document.getElementById('country').value;
            formData.dietary = document.getElementById('dietary').value;
            formData.availability = document.querySelector('input[name="availability"]:checked')?.value;
            formData.email = document.getElementById('email').value;
            formData.message = document.getElementById('message').value;
            formData.destination = document.getElementById('destination').checked;
            
            localStorage.setItem('rsvpData', JSON.stringify(formData));
        }
        
        // Load form data from localStorage
        function loadFormData() {
            const savedData = localStorage.getItem('rsvpData');
            if (savedData) {
                formData = JSON.parse(savedData);
                
                document.getElementById('name').value = formData.name || '';
                document.getElementById('country').value = formData.country || '';
                document.getElementById('dietary').value = formData.dietary || '';
                document.getElementById('email').value = formData.email || '';
                document.getElementById('message').value = formData.message || '';
                
                if (formData.availability) {
                    document.getElementById(`available-${formData.availability}`).checked = true;
                }
                
                document.getElementById('destination').checked = formData.destination || false;
            }
        }
        
        // Allow editing RSVP
        function editRSVP() {
            if (!allowEditing) {
                alert('Editing is no longer available as we have finalized our guest list.');
                return;
            }
            
            // Show the intro with the form
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('intro').style.display = 'flex';
            document.getElementById('intro').style.opacity = '1';
            document.getElementById('rsvp-form').style.display = 'block';
            
            // Load saved data
            loadFormData();
        }
        
        // Submit form via email
        function submitForm() {
            // Save final form data
            saveFormData();
            
            // Mark as completed
            localStorage.setItem('rsvpCompleted', 'true');
            
            // Show thank you message
            const rsvpForm = document.getElementById('rsvp-form');
            rsvpForm.innerHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <h2 style="color: var(--mid-lavender); margin-bottom: 20px;">Thank you!</h2>
                    <p>We will be sharing details about the exact date and location as soon as we can.</p>
                </div>
            `;
            
            // Transition to main page after shorter delay (reduced from 1500ms to 600ms)
            setTimeout(() => {
                document.getElementById('intro').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('intro').style.display = 'none';
                    document.getElementById('main-page').style.display = 'block';
                    setTimeout(() => {
                        document.getElementById('main-page').style.opacity = '1';
                    }, 50);
                }, 400); // Reduced from 500ms to 400ms
            }, 1600); // Reduced from 800ms to 600ms
        }
        
        // Submit song request (placeholder - needs Google Apps Script integration)
function submitSongRequest() {
    const name = document.getElementById('requester-name').value;
    const song = document.getElementById('song-name').value;
    const artist = document.getElementById('artist').value;
    const why = document.getElementById('why').value;
    
    if (!name || !song) {
        alert('Please at least provide your name and a song suggestion');
        return;
    }
    
    // Trigger the musical note animation
    triggerMusicNoteAnimation();
    
    // 1. THE ALERT POP-UP HAS BEEN REMOVED FROM HERE
    
    // Clear the form
    document.getElementById('requester-name').value = '';
    document.getElementById('song-name').value = '';
    document.getElementById('artist').value = '';
    document.getElementById('why').value = '';
    
    // 2. Show the success message under the button
    document.getElementById('song-success').style.display = 'block';
    setTimeout(() => {
        document.getElementById('song-success').style.display = 'none';
    }, 5000);
}
    </script>
</body>
</html>
